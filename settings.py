from __future__ import annotations
import os


# ──────────────────────────────────────────────────────────────
# БАЗОВІ ШЛЯХИ ПРОЄКТУ
# ──────────────────────────────────────────────────────────────

# Папка, де лежить цей файл (корінь проєкту)
PROJECT_ROOT = os.path.dirname(os.path.abspath(__file__))

# Папка з усіма даними
DATA_DIR = os.path.join(PROJECT_ROOT, "data")

# Тека для історії діалогів
HISTORY_BASE_DIR = os.path.join(DATA_DIR, "dialogs")


# ──────────────────────────────────────────────────────────────
# НАЛАШТУВАННЯ ІСТОРІЇ ДІАЛОГІВ
# ──────────────────────────────────────────────────────────────

# Кількість повідомлень у одному чанку
HISTORY_MAX_MESSAGES_PER_CHUNK = 20

# Скільки останніх чанків завантажувати в контекст
HISTORY_MAX_CHUNKS_FOR_CONTEXT = 5

# Ім'я файлу з інформацією про користувача
USER_INFO_FILENAME = "user_info.txt"


# ──────────────────────────────────────────────────────────────
# СИСТЕМНІ ПРОМПТИ
# ──────────────────────────────────────────────────────────────

# Основний системний промпт (без .txt)
SYSTEM_PROMPT_NAME = "default"

# Папка з системними промптами
SYSTEM_PROMPTS_DIR = os.path.join(DATA_DIR, "system_prompts")

# Додаткові перемикачі
ACTIONS_SYSTEM_PROMPT = True
USER_INFO_SYSTEM_PROMPT = True


# ──────────────────────────────────────────────────────────────
# ПОВЕДІНКА В TELEGRAM
# ──────────────────────────────────────────────────────────────

# Чи відповідати телеграм-ботам
ANSWER_TO_TELEGRAM_BOTS = False


# ──────────────────────────────────────────────────────────────
# ЧАСОВІ НАЛАШТУВАННЯ
# ──────────────────────────────────────────────────────────────

# Затримка перед запуском чергового циклу (секунди)
DEBOUNCE_SECONDS = 1

# Базова тривалість "набору тексту"
TYPING_SECONDS_DEFAULT = 15.0


# ──────────────────────────────────────────────────────────────
# НАЛАШТУВАННЯ LLM
# ──────────────────────────────────────────────────────────────

LLM_TEMPERATURE = 1
LLM_MAX_TOKENS = 1024
LLM_TOP_P = 0.92

LLM_PRESENCE_PENALTY = 0.92
LLM_FREQUENCY_PENALTY = 0.6
