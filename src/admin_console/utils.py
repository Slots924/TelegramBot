"""Допоміжні функції для адмін-консолі."""


def sanitize_text(value: str) -> str:
    """Прибирає сурогати та биті символи з тексту перед записом у файли/JSON."""

    # Сурогатні пари або биті символи можуть ламати кодування UTF-8 під час запису.
    # Тому ми явно кодуємо рядок у UTF-8 з параметром "ignore", щоб відкинути
    # некоректні символи, а потім декодуємо його назад у звичайний текст.
    return value.encode("utf-8", "ignore").decode("utf-8")
